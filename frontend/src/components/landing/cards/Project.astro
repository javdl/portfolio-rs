---
import { Icon } from "astro-icon/components";
import LinkTitle from "$lib/components/common/LinkTitle.astro";

interface Props {
    url: string;
    title: string;
    description: string;
    linked: string;
    github: boolean;
    tags: string[];
    icons: string[];
    repository: string;
}

let {
    url,
    title,
    linked,
    description,
    repository,
    github = false,
    tags,
    icons,
}: Props = Astro.props;
---

<div class="group relative block h-32 w-full">
    <div
        class="relative p-2 flex h-full
        border border-gray-300 dark:border-gray-700
        hover:border-gray-400 dark:hover:border-gray-600 duration-200 hover:ease-in
        rounded-md bg-white dark:bg-black shadow-sm hover:shadow-md
        transition-shadow"
    >
        <div class="flex flex-col px-2 my-2 gap-2 !pt-0">
            <div class="flex justify-between">
                <LinkTitle title={title} link={url} linked={linked} />
                {
                    github && (
                        <span>
                            <a
                                href={repository}
                                rel="noopener"
                                target="_blank"
                                aria-label="GitHub"
                                class="absolute top-3 right-3 text-gray-700 dark:text-gray-300 hover:text-[#68b5fc] dark:hover:text-[#68b5fc]"
                            >
                                <Icon
                                    name="github"
                                    width="1.2em"
                                    height="1.2em"
                                />
                            </a>
                        </span>
                    )
                }
            </div>
            <p class="text-sm text-gray-600 dark:text-gray-400 truncate ...">
                {description}
            </p>
            <div class="flex gap-4 mt-1">
                {
                    icons.map((icon) => (
                        <Icon
                            name={icon}
                            size="1.3rem"
                            class="duration-200 group-hover:translate-x-[1.5px] grayscale hover:grayscale-0"
                        />
                    ))
                }
            </div>
        </div>
    </div>
</div>
